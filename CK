<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Simple Login System</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center">
  <div id="loginBox" class="bg-white p-6 rounded shadow w-80">
    <h2 class="text-xl font-bold mb-4 text-center">Login</h2>
    <input id="username" type="text" placeholder="Username" class="w-full border p-2 mb-2 rounded">
    <input id="password" type="password" placeholder="Password" class="w-full border p-2 mb-2 rounded">
    <p id="error" class="text-red-500 text-sm hidden mb-2">Enter username and password</p>
    <button id="loginBtn" class="w-full bg-blue-500 text-white p-2 rounded">Login</button>
  </div>
  <div id="welcomeBox" class="hidden bg-white p-6 rounded shadow w-80 text-center">
    <h2 class="text-xl font-bold mb-2">Welcome, <span id="userName"></span> ðŸŽ‰</h2>
    <p class="text-gray-600 text-sm mb-4">Session expires in 5 minutes</p>
    <button id="logoutBtn" class="w-full bg-red-500 text-white p-2 rounded">Logout</button>
  </div>
<script>
$(function(){
  let timer;
  clearCookie("userSession");
  $("#loginBtn").click(function(){
    let u=$("#username").val().trim();
    let p=$("#password").val().trim();
    if(!u||!p){$("#error").removeClass("hidden");return;}
    let expiry=new Date(); expiry.setMinutes(expiry.getMinutes()+5);
    let data={username:u,expiry:expiry.getTime()};
    document.cookie=`userSession=${JSON.stringify(data)}; expires=${expiry.toUTCString()}; path=/`;
    $("#loginBox").hide();
    $("#userName").text(u);
    $("#welcomeBox").show();
    timer=setTimeout(function(){alert("Session expired");logout()},300000); // 5 mins
  });
  $("#logoutBtn").click(function(){logout()});
  function logout(){
    clearCookie("userSession");
    clearTimeout(timer);
    $("#welcomeBox").hide();
    $("#loginBox").show();
    $("#username").val("");$("#password").val("");
  }
  function clearCookie(name){
    document.cookie=name+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
  }
});
</script>
</body>
</html>
